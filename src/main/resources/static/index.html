<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iPhone â€” Apple (IL)</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#000;--surface:#161616;--glass:rgba(22,22,22,0.7);
--text:#f5f5f7;--dim:#86868b;--blue:#0a84ff;--blue-glow:rgba(10,132,255,0.3);
}
body{font-family:'Outfit',-apple-system,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;-webkit-font-smoothing:antialiased}

/* Animated Background */
.bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}
.orb{position:absolute;border-radius:50%;filter:blur(120px);opacity:0.4;animation:morph 25s ease-in-out infinite}
.orb1{width:600px;height:600px;background:radial-gradient(circle,rgba(10,132,255,0.6),transparent 70%);top:-300px;right:20%;animation-delay:0s}
.orb2{width:800px;height:800px;background:radial-gradient(circle,rgba(175,82,222,0.5),transparent 70%);bottom:-400px;left:10%;animation-delay:7s}
.orb3{width:500px;height:500px;background:radial-gradient(circle,rgba(48,209,88,0.4),transparent 70%);top:50%;left:50%;animation-delay:14s}
@keyframes morph{0%,100%{transform:translate(0,0) scale(1);opacity:0.3}33%{transform:translate(50px,-50px) scale(1.1);opacity:0.5}66%{transform:translate(-30px,40px) scale(0.9);opacity:0.4}}

/* Nav */
.nav{position:fixed;top:0;left:0;right:0;height:48px;background:var(--glass);backdrop-filter:saturate(180%) blur(40px);border-bottom:1px solid rgba(255,255,255,0.08);z-index:1000;animation:slideDown 0.6s ease}
@keyframes slideDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}
.nav-in{max-width:1400px;margin:0 auto;height:100%;padding:0 24px;display:flex;align-items:center;justify-content:space-between}
.logo{font-size:15px;font-weight:700;color:var(--text);text-decoration:none;letter-spacing:-0.02em;transition:opacity 0.2s}
.logo:hover{opacity:0.6}
.nav-btn{background:var(--blue);color:#fff;padding:0 18px;height:32px;border-radius:16px;border:none;font-size:13px;font-weight:600;cursor:pointer;transition:all 0.3s;text-decoration:none;display:flex;align-items:center;box-shadow:0 4px 12px var(--blue-glow)}
.nav-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px var(--blue-glow)}

/* Hero */
.hero{position:relative;z-index:1;margin-top:48px;padding:140px 24px 100px;text-align:center}
.badge{display:inline-block;padding:8px 16px;background:rgba(10,132,255,0.1);border:1px solid rgba(10,132,255,0.3);border-radius:24px;font-size:11px;font-weight:800;color:var(--blue);text-transform:uppercase;letter-spacing:0.15em;margin-bottom:32px;animation:fadeUp 0.8s ease 0.2s both}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.hero h1{font-size:clamp(64px,12vw,140px);font-weight:900;letter-spacing:-0.06em;line-height:0.85;margin-bottom:24px;background:linear-gradient(180deg,#fff 20%,#666 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:fadeUp 0.8s ease 0.3s both}
.hero p{font-size:clamp(20px,4vw,28px);font-weight:400;color:var(--dim);letter-spacing:-0.01em;animation:fadeUp 0.8s ease 0.4s both}

/* Controls */
.ctrl{position:relative;z-index:10;max-width:1400px;margin:0 auto 80px;padding:0 24px;animation:fadeUp 0.8s ease 0.5s both}
.ctrl-box{background:var(--glass);backdrop-filter:blur(60px);border:1px solid rgba(255,255,255,0.1);border-radius:32px;padding:24px;box-shadow:0 8px 32px rgba(0,0,0,0.3),inset 0 1px 0 rgba(255,255,255,0.1)}
.ctrl-grid{display:grid;grid-template-columns:1fr auto;gap:16px}
.search-wrap{position:relative}
.search{width:100%;height:52px;padding:0 20px 0 52px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:20px;color:var(--text);font-size:16px;font-family:inherit;transition:all 0.3s}
.search:focus{outline:none;background:rgba(255,255,255,0.08);border-color:var(--blue);box-shadow:0 0 0 4px rgba(10,132,255,0.15),0 4px 16px rgba(10,132,255,0.2)}
.search-ico{position:absolute;left:20px;top:50%;transform:translateY(-50%);color:var(--dim)}
.filters{display:flex;gap:10px}
select,button{font-family:inherit}
select{height:40px;padding:0 36px 0 16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:16px;color:var(--text);font-size:14px;cursor:pointer;transition:all 0.2s;appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%23999' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:left 14px center}
select:hover{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.15)}
.btn-reset{height:40px;padding:0 18px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:16px;color:var(--dim);font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s}
.btn-reset:hover{background:rgba(255,255,255,0.08);color:var(--text)}

/* Grid */
.section{position:relative;z-index:10;max-width:1400px;margin:0 auto;padding:0 24px 120px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:28px}

/* Card */
.card{background:linear-gradient(145deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.08);border-radius:32px;overflow:hidden;cursor:pointer;transition:all 0.5s cubic-bezier(0.25,0.46,0.45,0.94);animation:fadeUp 0.6s ease both;position:relative}
.card:nth-child(1){animation-delay:0.1s}.card:nth-child(2){animation-delay:0.15s}.card:nth-child(3){animation-delay:0.2s}
.card::before{content:'';position:absolute;inset:0;background:radial-gradient(800px circle at var(--x,50%) var(--y,50%),rgba(255,255,255,0.06),transparent 40%);opacity:0;transition:opacity 0.3s;pointer-events:none}
.card:hover::before{opacity:1}
.card:hover{transform:translateY(-12px) scale(1.02);border-color:rgba(255,255,255,0.15);box-shadow:0 32px 80px rgba(0,0,0,0.6),0 0 0 1px rgba(255,255,255,0.1),inset 0 1px 0 rgba(255,255,255,0.15)}

.card-img{position:relative;height:360px;background:linear-gradient(135deg,rgba(255,255,255,0.08),rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;overflow:hidden}
.glow{position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(10,132,255,0.4),transparent 70%);filter:blur(80px);animation:pulse 8s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:0.3;transform:scale(1)}50%{opacity:0.6;transform:scale(1.3)}}
.emoji{position:relative;font-size:140px;filter:drop-shadow(0 12px 40px rgba(0,0,0,0.5));transition:transform 0.6s cubic-bezier(0.34,1.56,0.64,1)}
.card:hover .emoji{transform:scale(1.2) rotate(10deg)}
.badge-color{position:absolute;top:24px;right:24px;padding:10px 20px;background:rgba(0,0,0,0.6);backdrop-filter:blur(30px);border:1px solid rgba(255,255,255,0.2);border-radius:24px;font-size:12px;font-weight:700;color:var(--text);letter-spacing:0.05em}

.card-body{padding:28px}
.title{font-size:26px;font-weight:800;letter-spacing:-0.03em;margin-bottom:8px}
.sub{font-size:15px;color:var(--dim);margin-bottom:24px}
.specs{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:24px}
.spec{text-align:center;padding:14px 10px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.06);border-radius:16px;transition:all 0.2s}
.card:hover .spec{background:rgba(255,255,255,0.08);transform:translateY(-2px)}
.spec-val{display:block;font-size:19px;font-weight:800;margin-bottom:4px}
.spec-lbl{display:block;font-size:10px;font-weight:700;color:var(--dim);text-transform:uppercase;letter-spacing:0.1em}

.price-box{padding-top:20px;border-top:1px solid rgba(255,255,255,0.08);margin-bottom:20px}
.price-lbl{font-size:13px;color:var(--dim);margin-bottom:6px}
.price{font-size:36px;font-weight:900;letter-spacing:-0.04em}

.acts{display:flex;gap:10px}
.btn{flex:1;height:44px;border:none;border-radius:16px;font-size:14px;font-weight:700;cursor:pointer;transition:all 0.3s}
.btn-edit{background:var(--blue);color:#fff;box-shadow:0 4px 16px var(--blue-glow)}
.btn-edit:hover{transform:translateY(-3px);box-shadow:0 8px 24px var(--blue-glow)}
.btn-del{background:rgba(255,59,48,0.15);color:#ff453a;border:1px solid rgba(255,59,48,0.3)}
.btn-del:hover{background:rgba(255,59,48,0.25);border-color:rgba(255,59,48,0.5)}

.loading{grid-column:1/-1;text-align:center;padding:120px 24px}
.spinner{width:56px;height:56px;border:4px solid rgba(255,255,255,0.1);border-top-color:var(--blue);border-radius:50%;animation:spin 0.8s linear infinite;margin:0 auto 20px}
@keyframes spin{to{transform:rotate(360deg)}}

.empty{grid-column:1/-1;text-align:center;padding:120px 40px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.08);border-radius:32px}
.empty h3{font-size:32px;font-weight:800;margin:24px 0 12px}
.empty p{color:var(--dim);font-size:18px;margin-bottom:40px}

@media(max-width:768px){
.ctrl-grid{grid-template-columns:1fr}
.grid{grid-template-columns:1fr}
}
</style>
</head>
<body>
<div class="bg">
<div class="orb orb1"></div>
<div class="orb orb2"></div>
<div class="orb orb3"></div>
</div>

<nav class="nav">
<div class="nav-in">
<a href="index.html" class="logo">iPhone Collection</a>
<a href="add-iphone.html" class="nav-btn">×”×•×¡×£ iPhone</a>
</div>
</nav>

<section class="hero">
<div class="badge">Pro Collection 2026</div>
<h1>iPhone</h1>
<p>×”××¢×¨×›×ª ×”××ª×§×“××ª ×‘×™×•×ª×¨ ×œ× ×™×”×•×œ ×”×§×•×œ×§×¦×™×” ×©×œ×š</p>
</section>

<section class="ctrl">
<div class="ctrl-box">
<div class="ctrl-grid">
<div class="search-wrap">
<svg class="search-ico" width="20" height="20" fill="none">
<circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="2"/>
<path d="M14 14l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
</svg>
<input type="text" class="search" id="searchInput" placeholder="×—×¤×© iPhone">
</div>
<div class="filters">
<select id="colorFilter"><option value="">×›×œ ×”×¦×‘×¢×™×</option></select>
<select id="storageFilter">
<option value="">× ×¤×—</option>
<option value="64">64GB</option>
<option value="128">128GB</option>
<option value="256">256GB</option>
<option value="512">512GB</option>
<option value="1024">1TB</option>
</select>
<button class="btn-reset" onclick="reset()">××™×¤×•×¡</button>
</div>
</div>
</div>
</section>

<section class="section">
<div id="loading" class="loading">
<div class="spinner"></div>
<div style="color:var(--dim);font-size:17px">×˜×•×¢×Ÿ...</div>
</div>
<div id="grid" class="grid"></div>
</section>

<script>
const API='http://localhost:8081/api/iphone';
let all=[],filtered=[];

// Mouse tracking for card glow
document.addEventListener('mousemove',e=>{
document.querySelectorAll('.card').forEach(card=>{
const rect=card.getBoundingClientRect();
card.style.setProperty('--x',`${e.clientX-rect.left}px`);
card.style.setProperty('--y',`${e.clientY-rect.top}px`);
});
});

window.onload=()=>{
load();
document.getElementById('searchInput').oninput=filter;
document.getElementById('colorFilter').onchange=filter;
document.getElementById('storageFilter').onchange=filter;
};

async function load(){
try{
document.getElementById('loading').style.display='block';
const r=await fetch(`${API}/all`);
if(!r.ok)throw new Error();
all=await r.json();
filtered=[...all];
updateColors();
show();
document.getElementById('loading').style.display='none';
}catch{
document.getElementById('loading').style.display='none';
empty();
}
}

function updateColors(){
const colors=[...new Set(all.map(i=>i.color))];
const sel=document.getElementById('colorFilter');
colors.forEach(c=>{
const opt=document.createElement('option');
opt.value=c;
opt.textContent=c;
sel.appendChild(opt);
});
}

function filter(){
const search=document.getElementById('searchInput').value.toLowerCase();
const color=document.getElementById('colorFilter').value;
const storage=document.getElementById('storageFilter').value;
filtered=all.filter(i=>{
const s=i.model.toLowerCase().includes(search)||i.color.toLowerCase().includes(search);
const c=!color||i.color===color;
const st=!storage||i.storageGb===parseInt(storage);
return s&&c&&st;
});
show();
}

function reset(){
document.getElementById('searchInput').value='';
document.getElementById('colorFilter').value='';
document.getElementById('storageFilter').value='';
filtered=[...all];
show();
}

function show(){
const g=document.getElementById('grid');
if(filtered.length===0){empty();return}
g.innerHTML=filtered.map(i=>`
<div class="card" onclick="location.href='view-iphone.html?id=${i.id}'">
<div class="card-img">
<div class="glow"></div>
<div class="emoji">ğŸ“±</div>
<div class="badge-color">${i.color}</div>
</div>
<div class="card-body">
<h3 class="title">${i.model}</h3>
<p class="sub">${i.storageGb}GB â€¢ ${i.cameraCount} ××¦×œ××•×ª</p>
<div class="specs">
<div class="spec">
<span class="spec-val">${i.storageGb}GB</span>
<span class="spec-lbl">××—×¡×•×Ÿ</span>
</div>
<div class="spec">
<span class="spec-val">${i.cameraCount}</span>
<span class="spec-lbl">××¦×œ××•×ª</span>
</div>
<div class="spec">
<span class="spec-val">${Math.round(i.batteryMah/1000)}K</span>
<span class="spec-lbl">×¡×•×œ×œ×”</span>
</div>
</div>
<div class="price-box">
<div class="price-lbl">×”×—×œ ×-</div>
<div class="price">â‚ª${i.price.toLocaleString()}</div>
</div>
<div class="acts">
<button class="btn btn-edit" onclick="event.stopPropagation();location.href='add-iphone.html?id=${i.id}'">×¢×¨×™×›×”</button>
<button class="btn btn-del" onclick="event.stopPropagation();del(${i.id})">××—×™×§×”</button>
</div>
</div>
</div>
`).join('');
}

function empty(){
document.getElementById('grid').innerHTML=`
<div class="empty">
<div style="font-size:100px;opacity:0.3">ğŸ“±</div>
<h3>×œ× × ××¦××• ××•×¦×¨×™×</h3>
<p>× ×¡×” ×œ×©× ×•×ª ××ª ×”×¤×™×œ×˜×¨×™× ××• ×”×•×¡×£ iPhone ×—×“×©</p>
<a href="add-iphone.html" class="nav-btn">×”×•×¡×£ iPhone</a>
</div>
`;
}

async function del(id){
if(!confirm('×”×× ×œ××—×•×§ ××›×©×™×¨ ×–×”?'))return;
try{
const r=await fetch(`${API}/${id}`,{method:'DELETE'});
if(!r.ok)throw new Error();
load();
}catch{alert('×©×’×™××” ×‘××—×™×§×”')}
}
</script>
</body>
</html>
