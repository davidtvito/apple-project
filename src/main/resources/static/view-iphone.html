<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iPhone â€” ×¤×¨×˜×™×</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#000;--surface:#161616;--glass:rgba(22,22,22,0.7);--text:#f5f5f7;--dim:#86868b;--blue:#0a84ff;--blue-glow:rgba(10,132,255,0.3);--red:#ff453a}
body{font-family:'Outfit',-apple-system,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;-webkit-font-smoothing:antialiased}

.bg{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}
.orb{position:absolute;border-radius:50%;filter:blur(120px);opacity:0.4;animation:morph 25s ease-in-out infinite}
.orb1{width:600px;height:600px;background:radial-gradient(circle,rgba(10,132,255,0.6),transparent 70%);top:-300px;right:20%;animation-delay:0s}
.orb2{width:800px;height:800px;background:radial-gradient(circle,rgba(175,82,222,0.5),transparent 70%);bottom:-400px;left:10%;animation-delay:7s}
@keyframes morph{0%,100%{transform:translate(0,0) scale(1);opacity:0.3}33%{transform:translate(50px,-50px) scale(1.1);opacity:0.5}66%{transform:translate(-30px,40px) scale(0.9);opacity:0.4}}

.nav{position:fixed;top:0;left:0;right:0;height:48px;background:var(--glass);backdrop-filter:saturate(180%) blur(40px);border-bottom:1px solid rgba(255,255,255,0.08);z-index:1000}
.nav-in{max-width:1200px;margin:0 auto;height:100%;padding:0 24px;display:flex;align-items:center}
.back{color:var(--blue);text-decoration:none;font-size:15px;font-weight:600;transition:opacity 0.2s}
.back:hover{opacity:0.6}

.loading{position:relative;z-index:1;text-align:center;padding:200px 24px;color:var(--dim)}
.spinner{width:56px;height:56px;border:4px solid rgba(255,255,255,0.1);border-top-color:var(--blue);border-radius:50%;animation:spin 0.8s linear infinite;margin:0 auto 20px}
@keyframes spin{to{transform:rotate(360deg)}}

.err{position:relative;z-index:1;max-width:700px;margin:100px auto;padding:80px 40px;text-align:center;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.08);border-radius:32px}
.err h2{font-size:36px;font-weight:800;color:var(--red);margin-bottom:16px}
.err p{color:var(--dim);font-size:18px;margin-bottom:32px}

#details{display:none}

.hero{position:relative;z-index:1;margin-top:48px;padding:120px 24px 80px;text-align:center;animation:fadeUp 0.8s ease 0.2s both}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.hero-icon{font-size:160px;filter:drop-shadow(0 16px 48px rgba(0,0,0,0.6));margin-bottom:32px;animation:float 6s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
.hero h1{font-size:clamp(48px,8vw,88px);font-weight:900;letter-spacing:-0.05em;line-height:0.9;margin-bottom:20px;background:linear-gradient(180deg,#fff 20%,#666 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.color-badge{display:inline-block;padding:10px 24px;background:rgba(10,132,255,0.15);border:1px solid rgba(10,132,255,0.3);border-radius:28px;font-size:14px;font-weight:700;color:var(--blue);margin-bottom:40px}
.hero .price-big{font-size:clamp(56px,10vw,96px);font-weight:900;letter-spacing:-0.05em;background:linear-gradient(135deg,var(--blue) 0%,#30d158 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}

.section{position:relative;z-index:10;max-width:1200px;margin:0 auto;padding:0 24px 100px;animation:fadeUp 0.8s ease 0.4s both}
.section-title{font-size:clamp(36px,6vw,56px);font-weight:900;letter-spacing:-0.04em;text-align:center;margin-bottom:48px}

.specs-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px;margin-bottom:60px}
.spec-card{background:var(--glass);backdrop-filter:blur(60px);border:1px solid rgba(255,255,255,0.1);border-radius:28px;padding:40px 32px;text-align:center;transition:all 0.4s;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
.spec-card:hover{transform:translateY(-8px);border-color:rgba(255,255,255,0.2);box-shadow:0 16px 48px rgba(0,0,0,0.5)}
.spec-icon{font-size:56px;margin-bottom:20px}
.spec-lbl{font-size:12px;font-weight:700;color:var(--dim);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:12px}
.spec-val{font-size:44px;font-weight:900;letter-spacing:-0.04em}

.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:24px;margin-bottom:60px}
.info-card{background:var(--glass);backdrop-filter:blur(60px);border:1px solid rgba(255,255,255,0.1);border-radius:28px;padding:36px;transition:all 0.3s}
.info-card:hover{border-color:rgba(255,255,255,0.15)}
.info-card h3{font-size:24px;font-weight:800;margin-bottom:16px}
.info-card p{color:var(--dim);font-size:16px;line-height:1.6}

.acts{display:flex;gap:16px;justify-content:center;padding:80px 24px;border-top:1px solid rgba(255,255,255,0.08)}
.btn{flex:1;max-width:200px;height:56px;border:none;border-radius:20px;font-size:17px;font-weight:700;font-family:inherit;cursor:pointer;transition:all 0.3s}
.btn-primary{background:var(--blue);color:#fff;box-shadow:0 4px 16px var(--blue-glow)}
.btn-primary:hover{transform:translateY(-3px);box-shadow:0 8px 24px var(--blue-glow)}
.btn-danger{background:rgba(255,59,48,0.15);color:var(--red);border:1px solid rgba(255,59,48,0.3)}
.btn-danger:hover{background:rgba(255,59,48,0.25);border-color:rgba(255,59,48,0.5)}
.btn-secondary{background:rgba(255,255,255,0.05);color:var(--text);border:1px solid rgba(255,255,255,0.1)}
.btn-secondary:hover{background:rgba(255,255,255,0.08)}

@media(max-width:768px){
.acts{flex-direction:column;max-width:400px;margin:0 auto}
.btn{max-width:none}
}
</style>
</head>
<body>
<div class="bg">
<div class="orb orb1"></div>
<div class="orb orb2"></div>
</div>

<nav class="nav">
<div class="nav-in">
<a href="index.html" class="back">â† ×›×œ ×”××›×©×™×¨×™×</a>
</div>
</nav>

<div id="loading" class="loading">
<div class="spinner"></div>
<div style="font-size:17px">×˜×•×¢×Ÿ...</div>
</div>

<div id="error" style="display:none">
<div class="err">
<h2>×©×’×™××”</h2>
<p id="errorMsg"></p>
<a href="index.html" class="btn btn-secondary">×—×–×¨×”</a>
</div>
</div>

<div id="details"></div>

<script>
const API='http://localhost:8081/api/iphone';
let data=null;

window.onload=()=>{
const params=new URLSearchParams(location.search);
const id=params.get('id');
if(!id){location.href='index.html';return}
load(id);
};

async function load(id){
try{
document.getElementById('loading').style.display='block';
const r=await fetch(`${API}/${id}`);
if(!r.ok)throw new Error('×”××›×©×™×¨ ×œ× × ××¦×');
data=await r.json();
show();
document.getElementById('loading').style.display='none';
}catch(e){
document.getElementById('loading').style.display='none';
document.getElementById('errorMsg').textContent=e.message;
document.getElementById('error').style.display='block';
}
}

function show(){
document.getElementById('details').innerHTML=`
<section class="hero">
<div class="hero-icon">ğŸ“±</div>
<h1>${data.model}</h1>
<div class="color-badge">${data.color}</div>
<div class="price-big">â‚ª${data.price.toLocaleString()}</div>
</section>

<section class="section">
<h2 class="section-title">××¤×¨×˜ ×˜×›× ×™</h2>
<div class="specs-grid">
<div class="spec-card">
<div class="spec-icon">ğŸ’¾</div>
<div class="spec-lbl">××—×¡×•×Ÿ</div>
<div class="spec-val">${data.storageGb}GB</div>
</div>
<div class="spec-card">
<div class="spec-icon">ğŸ“·</div>
<div class="spec-lbl">××¦×œ××•×ª</div>
<div class="spec-val">${data.cameraCount}</div>
</div>
<div class="spec-card">
<div class="spec-icon">ğŸ”‹</div>
<div class="spec-lbl">×¡×•×œ×œ×”</div>
<div class="spec-val">${data.batteryMah.toLocaleString()}mAh</div>
</div>
</div>

<div class="info-grid">
${getBatteryInfo(data.batteryMah)}
${getStorageInfo(data.storageGb)}
</div>

<div class="acts">
<button class="btn btn-primary" onclick="location.href='add-iphone.html?id=${data.id}'">×¢×¨×•×š ××›×©×™×¨</button>
<button class="btn btn-danger" onclick="del()">××—×§ ××›×©×™×¨</button>
<a href="index.html" class="btn btn-secondary">×—×–×¨×”</a>
</div>
</section>
`;
document.getElementById('details').style.display='block';
}

function getBatteryInfo(mah){
let msg='';
if(mah>=5000)msg='×¡×•×œ×œ×” ××¢×•×œ×”. ××¡×¤×™×§ ×œ×©×™××•×© ××™× ×˜× ×¡×™×‘×™ ×œ××©×š ×™×•× ×©×œ× ×•×™×•×ª×¨.';
else if(mah>=4000)msg='×¡×•×œ×œ×” ×˜×•×‘×” ×××•×“. ××ª××™× ×œ×©×™××•×© ×™×•××™×•××™ ×¨×’×™×œ.';
else if(mah>=3000)msg='×¡×•×œ×œ×” ×¡×‘×™×¨×”. ××ª××™× ×œ××©×ª××©×™× ×‘×¢×œ×™ ×¦×¨×™×›×” ×‘×™× ×•× ×™×ª.';
else msg='×¡×•×œ×œ×” ×§×˜× ×” ×™×—×¡×™×ª. ××•××œ×¥ ×œ×©×™××•×© ×§×œ ××• ×¢× power bank.';
return`<div class="info-card"><h3>×—×™×™ ×¡×•×œ×œ×”</h3><p>${msg}</p></div>`;
}

function getStorageInfo(gb){
let msg='';
if(gb>=512)msg='× ×¤×— ××—×¡×•×Ÿ ×¢× ×§. ××•×©×œ× ×œ××§×¦×•×¢× ×™×, ×¦×œ××™× ×•×©×™××•×© ××™× ×˜× ×¡×™×‘×™ ×‘××¤×œ×™×§×¦×™×•×ª.';
else if(gb>=256)msg='× ×¤×— ××—×¡×•×Ÿ ××¦×•×™×Ÿ. ××ª××™× ×œ×¨×•×‘ ×”××©×ª××©×™× ×¢× ×¦×¨×›×™ ××“×™×” ×’×‘×•×”×™×.';
else if(gb>=128)msg='× ×¤×— ××—×¡×•×Ÿ ×¡×˜× ×“×¨×˜×™. ××¡×¤×™×§ ×œ××©×ª××© ×××•×¦×¢ ×¢× ×¦×¨×™×›×” ×‘×™× ×•× ×™×ª.';
else msg='× ×¤×— ××—×¡×•×Ÿ ×‘×¡×™×¡×™. ××ª××™× ×œ××©×ª××©×™× ×—×¡×›×•× ×™×™× ××• ×¢× ×©×™××•×© ×‘-iCloud.';
return`<div class="info-card"><h3>×§×™×‘×•×œ×ª ××—×¡×•×Ÿ</h3><p>${msg}</p></div>`;
}

async function del(){
if(!confirm(`×”×× ×œ××—×•×§ ××ª ${data.model}?\n×¤×¢×•×œ×” ×–×• ××™× ×” × ×™×ª× ×ª ×œ×‘×™×˜×•×œ.`))return;
try{
const r=await fetch(`${API}/${data.id}`,{method:'DELETE'});
if(!r.ok)throw new Error();
alert('×”××›×©×™×¨ × ××—×§ ×‘×”×¦×œ×—×”');
location.href='index.html';
}catch{alert('×©×’×™××” ×‘××—×™×§×”')}
}
</script>
</body>
</html>
